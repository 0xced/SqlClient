Here is the information we found when doing investigation into getting System.Data.Entity to work with BID and ETW:

This is what I found stepping through AdoNetDiag code in the debugger:

-	The GUID for registering is basically a MD5-hash of the provider name, e.g. "System.Data.1": Guid::convert() in adonetdiag\yawl\guid.cpp calls FakeGuidFromText().  Note: this looks like the “control GUIDs” aren’t real GUIDs.  
-	The GUID written into the trace has one digit which is higher by one.  That’s why the 7 vs. 8 discrepancy.  
-	The two GUIDs in the *.mof file *should differ* in one digit by one (I am guessing the first one associates the provider with the control GUID, the second one with the data written into the trace).  This is what System.Data.dll has in *.mof (other providers follow the same pattern):

//  System.Data.1

[
 dynamic: ToInstance,
 Description("System.Data.1"),
 Guid("{914ABDE2-171E-C600-3348-C514171DE148}"),
 locale("MS\\0x409")
]
class Bid2Etw_System_Data_1 : EventTrace
{
};

[
 dynamic: ToInstance,
 Description("System.Data.1"),
 Guid("{914ABDE3-171E-C600-3348-C514171DE148}"),
 DisplayName("System.Data"),
 locale("MS\\0x409")
]


Thanks,

Peter
